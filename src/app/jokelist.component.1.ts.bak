import { Component } from '@angular/core';

@Component({
    selector: 'joke-list',
    template: `
    <div class="card mb-3"
    *ngFor="let joke of jokes" style="width: 320px;">
    <div class="card-body">
    <h4 class="card-title">{{ joke.setup }}</h4>
    <p class="card-text" [hidden]="joke.hide">{{ joke.punchline }}</p>
    <button class="btn btn-primary" (click)="toggle(joke)" role="button">Tell me</button>
    </div>
    </div>
    `
})

class Joke {
    public setup: string;
    public punchline: string;
    public hide: boolean;

    constructor(setup: string, punchline: string) {
        this.setup = setup;
        this.punchline = punchline;
        this.hide = true;
    }

    toggle() {
        this.hide = !this.hide;
    }
}

export class JokeListComponent {
    jokes: Object[];

    constructor() {
        this.jokes = [
            {
                setup: 'What joke 1?',
                punchline: 'Joke 1',
                hide: true,
            }, 
            {
                setup: 'What joke 2?',
                punchline: 'Jole 2',
                hide: true,
            }, 
            {
                setup: 'What joke 3?',
                punchline: 'Joke \'3\'',
                hide: true,
            },
        ];
    }

    toggle(joke) {
        joke.hide = !joke.hide;
    }
}